<%- include('./residentMenu.ejs'); %>
<script>
  function checkSetting() {
    let number = document.getElementById("residentPhone").value;
    if (/^[0-9]{3}-[0-9]{2}-[0-9]{5}$/.test(number)) {
      return true;
    } else {
      document.getElementById("checkPhoneMessage").innerText = "010-0000-0000 형식으로 입력해주세요.";
      return false;
    }
  }
</script>
<div class="mypage-container">
  <form classname="user-setting" action="/resident/settings/update" method="post">
    <label class="user-label">아이디</label>
    <input value="<%= resident.r_username %>" placeholder="아이디" readonly="true" />
    <br />
    <label class="user-label">실명</label>
    <input value="<%= resident.r_realname %>" />
    <br />
    <label id="residentPhone" class="user-label">전화번호</label>
    <input value="<%= resident.r_phone %>" />
    <label id="checkPhoneMessage"></label>
    <br />
    <label class="user-label">이메일</label>
    <input value="<%= resident.r_email %>" type="email" />
    <br />
    <label id="residentBirth" class="user-label">생년월일</label>
    <input type="date" max="new Date()" placeholder="생년월일 입력하고 휴지 받기" value="<%= resident.r_birth === null ? '' : resident.r_birth %>" />
    <br />
    <button class="user-submit-button" type="submit" onclick="return checkSetting()">변경 내용 저장하기</button>
  </form>
  <table class="table">
    <tr>
      <th>Password</th>
      <td>********</td>
    </tr>
  </table>
</div>